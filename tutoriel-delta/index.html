<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Le DELTA c'est quoi?</title>
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous" />
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Sans+Pro:300,300i,600">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/the-grid-flexbox@2.0.1/css/the-grid.min.css">
  <link href="https://cdn.rawgit.com/michalsnik/aos/2.1.1/dist/aos.css" rel="stylesheet">
  <link rel="stylesheet" href="/css/main.css">

  <link rel="shortcut icon" href="https://www.godot-francophone.org/assets/img/favicon.png">
  <link rel="icon" href="https://www.godot-francophone.org/assets/img/favicon.png">

  <meta property="og:title" content="Le DELTA c'est quoi?" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://www.godot-francophone.org" />

  <meta property="og:description" content="À quoi sert le delta que l'on retrouve dans process et à quoi va t il nous servir dans nos jeux" />
  <meta property="og:site_name" content="Godot Engine Francophone" />
  <meta property="og:image" content="https://www.godot-francophone.org/assets/img/icon.png" />

  <!-- facebook -->
  
    <meta property="fb:app_id" content="00000000" />
    <meta property="fb:admins" content="00000000" />
  
  <!-- facebook -->

  <!-- twitter -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Le DELTA c'est quoi?">
  <meta name="twitter:description" content="À quoi sert le delta que l'on retrouve dans process et à quoi va t il nous servir dans nos jeux">
  <meta name="twitter:creator" content="godotenginefr">
  <meta name="twitter:image" content="https://www.godot-francophone.org/assets/img/icon.png">
  <meta name="image" content="https://www.godot-francophone.org/assets/img/icon.png">
  <meta itemprop="description" content="À quoi sert le delta que l'on retrouve dans process et à quoi va t il nous servir dans nos jeux" />
  <meta itemprop="name" content="Le DELTA c'est quoi?">
  <meta itemprop="keywords" content="delta, gdscript, ratio, 3.1, godot, godot engine, engine, francais, france, tutoriel, francophone, discord, communauté">
  <!-- twitter -->

  <meta name="description" content="À quoi sert le delta que l'on retrouve dans process et à quoi va t il nous servir dans nos jeux" />
  <meta name="name" content="Le DELTA c'est quoi?">
  <meta name="keywords" content="delta, gdscript, ratio, 3.1, godot, godot engine, engine, francais, france, tutoriel, francophone, discord, communauté">

  <script type="application/ld+json">
  [{
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "Godot Engine Francophone",
    "alternateName": "Godot Engine fr",
    "url": "https://www.godot-francophone.org",
    "logo": "https://www.godot-francophone.org/assets/img/icon.png",
    "sameAs": [
      "https://twitter.com/godotenginefr",
      "https://github.com/Godot-Engine-Francophone"
    ]
  }]
  </script>
</head>


<body>
  <div class="body-content">
    <div class="menu">
  <div class="size margin menu--content container align-items-center justify-content-between">

    <a href="/" data-aos="fade-right" data-aos-delay="" data-aos-offset="0">
      <div class="container align-items-center site-title">
        <div class="">
          <img src="/assets/img/icon.png" width="64" alt="Godot fr">
        </div>
        <div class="site-title-text">
          Godot Engine Francophone
        </div>
      </div>
    </a>

    <div class="container align-items-center" data-aos="fade-left" data-aos-delay="" data-aos-offset="0">
      <nav class="site-nav" id="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger">
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewbox="0 0 18 15" width="18px" height="15px">
              <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"></path>
              <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"></path>
              <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"></path>
            </svg>
          </span>
        </label>
        <div class="trigger">
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
            
            
            <a href="/actualite/index.html" class="menu--content--item">
            
              Actualités
            </a>
            
          
          
          
          
          
            
            
            <a href="/tutoriel/index.html" class="menu--content--item">
            
              Tutoriels
            </a>
            
          
          
          
            
            
            <a href="/resources/index.html" class="menu--content--item">
            
              Ressources
            </a>
            
          
          
          
          
          
          
          
            
            
            <a href="/showcase/index.html" class="menu--content--item">
            
              Showcase
            </a>
            
          
          
          
          
          
          
          
            
            <a href="https://docs.godotengine.org/fr/latest/" class="menu--content--item" target="_blank" rel="noopener noreferrer">
              Documentation
            </a>
            
          
          
          
            
            
            <a href="/apropos/" class="menu--content--item">
            
              À propos
            </a>
            
          
          
        </div>
      </nav>
    </div>
  </div>
</div>


    <div class="bg-header">
  <header>
  
  <div class="header container align-items-center justify-content-center">
  </div>
  
</header>

</div>




<div class="size margin min-height background-box-white aos-init aos-animate">
  <article>
    <!-- titles -->
    <h1 class="post-title" data-aos="fade-up" data-aos-delay="200" data-aos-offset="0">Le DELTA c'est quoi?</h1>
    <div class="post-date" data-aos="fade-left" data-aos-delay="300" data-aos-offset="0">
      <time>13 Dec 2019</time>
      <span class="reading-time" title="Estimated read time"> - 4 minutes de lecture</span>
      

<div id="share-buttons">
  <div class="facebook" title="Partager via Facebook" onclick="window.open('http://www.facebook.com/share.php?u=https://www.godot-francophone.org/tutoriel-delta/');">
    <svg viewbox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg">
      <path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759h-306v-759h-255v-296h255v-218q0-186 104-288.5t277-102.5q147 0 228 12z"></path>
    </svg>
  </div>
  <div class="twitter" title="Partager sur Twitter" onclick="window.open('https://twitter.com/intent/tweet?text=Le DELTA c'est quoi? https://www.godot-francophone.org/tutoriel-delta/');">
    <svg viewbox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg">
      <path d="M1684 408q-67 98-162 167 1 14 1 42 0 130-38 259.5t-115.5 248.5-184.5 210.5-258 146-323 54.5q-271 0-496-145 35 4 78 4 225 0 401-138-105-2-188-64.5t-114-159.5q33 5 61 5 43 0 85-11-112-23-185.5-111.5t-73.5-205.5v-4q68 38 146 41-66-44-105-115t-39-154q0-88 44-163 121 149 294.5 238.5t371.5 99.5q-8-38-8-74 0-134 94.5-228.5t228.5-94.5q140 0 236 102 109-21 205-78-37 115-142 178 93-10 186-50z"></path>
    </svg>
    </div>  
  <div class="linkedin" title="Partager sur Linkedin" onclick="window.open('https://www.linkedin.com/shareArticle?mini=true&amp;url=https://www.godot-francophone.org/tutoriel-delta/&amp;title=&amp;summary=&amp;source=');">
    <svg viewbox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg">
      <path d="M477 625v991h-330v-991h330zm21-306q1 73-50.5 122t-135.5 49h-2q-82 0-132-49t-50-122q0-74 51.5-122.5t134.5-48.5 133 48.5 51 122.5zm1166 729v568h-329v-530q0-105-40.5-164.5t-126.5-59.5q-63 0-105.5 34.5t-63.5 85.5q-11 30-11 81v553h-329q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5 114.5-15.5q171 0 275 113.5t104 332.5z"></path>
    </svg>
  </div>
</div>
    </div>
    <div class="list-post-written" data-aos="fade-up" data-aos-delay="700" data-aos-offset="0">
      <small>Niveau <span class="tutoriel-niveau-facile">Facile</span> - </small>
      
      <small>Écrit par <span>SoloCodeNet</span> - </small>
      
      
      <small><time>13 Dec 2019</time></small>
    </div>
    <div class="list-post-tag" data-aos="fade-up" data-aos-delay="1000" data-aos-offset="0">
      
        <span class="post-tag">delta</span>
      
        <span class="post-tag">gdscript</span>
      
        <span class="post-tag">ratio</span>
      
        <span class="post-tag">3.1</span>
      
    </div>
    <!-- titles -->

    <!-- content -->
    <h2 id="quest-ce-que-le-delta-">Qu’est ce que le DELTA ?</h2>

<p>Vous avez surement remarqué dans la méthode <code class="highlighter-rouge">_process()</code> ou <code class="highlighter-rouge">_physic_process()</code> l’argument <code class="highlighter-rouge">DELTA</code> entre les parenthèses. cet argument peu avoir beaucoup d’importance pour uniformiser un déplacement suivant la machine qui exécute le code. Nous allons voir un peu à quoi il correspond.</p>

<p>Tout d’abord regardons quelle est la valeur de delta. 
Dans n’importe quel projet tapez le code suivant:</p>
<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">_process</span><span class="p">(</span><span class="n">delta</span><span class="p">):</span>
  <span class="nf">print</span><span class="p">(</span><span class="s">"DELTA: "</span><span class="p">,</span> <span class="n">delta</span><span class="p">)</span>
</code></pre></div></div>
<p>La réponse peut varier sur chaque PC, moi personnellement la console affiche <code class="highlighter-rouge">0.016667</code>
Cette valeur correspond à <code class="highlighter-rouge">1 / 60</code>. En fait ce facteur c’est le temps passé entre 2 images pour une seconde de runtime.</p>

<h2 id="en-quoi-cela-peut-nous-aider-">En quoi cela peut nous aider ?</h2>
<p>Lorsque vous utilisez une méthode comme <code class="highlighter-rouge">_process()</code>, celle ci va s’exécuter à chaque frame, suivant l’importance de votre jeu, le nombre d’éléments à afficher, la qualité graphique ou tout autre méthode pouvant ralentir l’exécution de votre jeu. Pourtant vous voudriez qu’un déplacement soit régulier que votre jeu tourne à 60 FPS ou à 20 FPS. Prenons un exemple concret: 
J’ai juste placé l’icon.png de Godot dans la scène principale et j’ai ajoute ce code:</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">_process</span><span class="p">(</span><span class="n">delta</span><span class="p">):</span>
  <span class="k">var</span> <span class="nv">direction</span><span class="p">:</span><span class="n">float</span>
  <span class="k">if</span> <span class="kt">Input</span><span class="o">.</span><span class="nf">is_action_pressed</span><span class="p">(</span><span class="s">"ui_right"</span><span class="p">):</span> <span class="n">direction</span> <span class="o">=</span> <span class="mf">5.0</span>
  <span class="k">if</span> <span class="kt">Input</span><span class="o">.</span><span class="nf">is_action_pressed</span><span class="p">(</span><span class="s">"ui_left"</span><span class="p">):</span> <span class="n">direction</span> <span class="o">=</span> <span class="o">-</span><span class="mf">5.0</span>
  <span class="err">$</span><span class="n">icon</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">x</span> <span class="o">+=</span> <span class="n">direction</span>
</code></pre></div></div>
<p>Dans la fonction boucle <code class="highlighter-rouge">_process()</code> je récupère juste les touches gauche et droite pour modifier la <strong>position</strong> de mon sprite de 5 pixels. 
Maintenant prenons le temps de comprendre ce qu’il se passe suivant la puissance de notre PC et des latences possibles de notre jeu.</p>
<ul>
  <li>à <strong>60</strong> FPS x 5 pixels par frame = notre sprite parcourt <strong>300</strong> pixels en une seconde.</li>
  <li>à <strong>90</strong> FPS x 5 pixels par frame = notre sprite parcourt <strong>450</strong> pixels en une seconde.</li>
  <li>à <strong>20</strong> FPS x 5 pixels par frame = notre sprite parcourt <strong>100</strong> pixels en une seconde.</li>
</ul>

<p><em>(FPS : Frames per second - &gt; images par secondes)</em></p>

<p><img src="/assets/img/tutoriel/2019-12-13-tutoriel-without-delta.png" alt="without delta" class="center-image"></p>

<p>Ça serait problématique si dans mon éventuel jeu en réseau l’un incarnait un policier et l’autre un bandit à rattraper ! suivant la puissance de la machine, nous n’avancerions pas à la même distance par seconde.</p>

<p>C’est là qu’intervient le DELTA, cette valeur est renvoyée par le Moteur lui même dans la boucle principale du jeu et nous donne le temps entre chaque frame, il n’est pas constant et nous permet de nous renvoyer un facteur important.</p>
<ul>
  <li>à <strong>60</strong> FPS le delta renvoyé est de <strong>0.016667</strong>
</li>
  <li>à <strong>90</strong> FPS le delta renvoyé est de <strong>0.011111</strong>
</li>
  <li>à <strong>20</strong> FPS le delta renvoyé est de <strong>0.05</strong>
</li>
</ul>

<h2 id="quand-lutiliser-">Quand l’utiliser ?</h2>
<p>maintenant modifions notre code précédent pour celui ci :</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">_process</span><span class="p">(</span><span class="n">delta</span><span class="p">):</span>
  <span class="k">var</span> <span class="nv">direction</span><span class="p">:</span><span class="n">float</span>
  <span class="k">if</span> <span class="kt">Input</span><span class="o">.</span><span class="nf">is_action_pressed</span><span class="p">(</span><span class="s">"ui_right"</span><span class="p">):</span> <span class="n">direction</span> <span class="o">=</span> <span class="mf">100.0</span>
  <span class="k">if</span> <span class="kt">Input</span><span class="o">.</span><span class="nf">is_action_pressed</span><span class="p">(</span><span class="s">"ui_left"</span><span class="p">):</span> <span class="n">direction</span> <span class="o">=</span> <span class="o">-</span><span class="mf">100.0</span>
  <span class="err">$</span><span class="n">icon</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">x</span> <span class="o">+=</span> <span class="n">direction</span> <span class="o">*</span> <span class="n">delta</span>
</code></pre></div></div>
<p><em>j’ai changé la valeur de 5 à 100 car en multipliant 5 par delta le résultat est beaucoup plus faible</em></p>

<p>Si on effectue les calculs maintenant:</p>
<ul>
  <li>100 x 0.016667 = 1.6667 par frame x <strong>60</strong> FPS = <strong>100.02</strong> pixels en 1sec</li>
  <li>100 x 0.011111 = 1.111  par frame  x <strong>90</strong> FPS = <strong>99.99</strong>  pixels en 1 sec</li>
  <li>100 x 0.05 = 5  par frame x <strong>20</strong> FPS = <strong>100</strong> pixels en 1 sec</li>
</ul>

<p><img src="/assets/img/tutoriel/2019-12-13-tutoriel-with-delta.png" alt="with delta" class="center-image"></p>

<p>Les résultats parlent d’eux-mêmes, malgré les différences de FPS la distance parcourue en une seconde est la même (les différences sont infimes au centième de pixel et viennent de mes arrondis )</p>

<p>Nous pouvons ainsi unifier la vitesse de déplacement quelle que soit la machine hôte, et ainsi avoir quasiment le même rendu malgré les pertes ou les accélérations de FPS.
Le deuxième intérêt de cette méthode c’est que notre valeur de 100 x delta maintenant correspond à une valeur plus facile à décrire pour nous car elle ne représente plus une valeur théorique à chaque frame, mais bel et bien le déplacement précis que va effectuer notre sprite en 1 seconde.</p>

<blockquote>
  <p><em>Note:</em>
Si vous utilisez un kinematicBody il n’est pas nécessaire d’utiliser le DELTA car il est déjà intégré dans les calculs de velocité.</p>
</blockquote>


    <!-- content -->
  </article>
</div>

    <footer>
  <div class="footer container column align-center">
    <div class="size margin footer--block container align-center justify-content-between">
      <div class="container" data-aos="fade-up" data-aos-delay="" data-aos-offset="0">
        <a href="/"><span>Godot Engine Francophone</span></a>
      </div>
      <div class="container social-media-list" data-aos="fade-up" data-aos-delay="200" data-aos-offset="0">
        <ul class="">
   
   
   <li>
      <a target="_blank" rel="noopener noreferrer" href="https://discordapp.com/invite/NQVd34V">
         <svg class="svg-icon">
            <use xlink:href="/assets/img/minima-social-icons.svg#discord"></use>
         </svg>
      </a>
   </li>
   
   
   
   
   <li>
      <a target="_blank" rel="noopener noreferrer" href="https://github.com/Godot-Engine-Francophone">
         <svg class="svg-icon">
            <use xlink:href="/assets/img/minima-social-icons.svg#github"></use>
         </svg>
      </a>
   </li>
   
   
   
   
   
   <li>
      <a target="_blank" rel="noopener noreferrer" href="https://www.twitter.com/godotenginefr">
         <svg class="svg-icon">
            <use xlink:href="/assets/img/minima-social-icons.svg#twitter"></use>
         </svg>
      </a>
   </li>
   
   
   
   
</ul>


      </div>
    </div>
  </div>
</footer>

  </div>
  <script src="https://cdn.rawgit.com/michalsnik/aos/2.1.1/dist/aos.js"></script>
  <script src="/assets/js/simple-jekyll-search.min.js"></script>
  <script src="/assets/js/freezeframe.min.js"></script>

  <script>
    const freeze = new Freezeframe('.freezeframe', {
      trigger: 'hover',
      responsive: true,
      warnings: false
    });
    
    AOS.init({
      once: true
    })

    SimpleJekyllSearch({
      searchInput: document.getElementById('search-input'),
      resultsContainer: document.getElementById('results-container'),
      searchResultTemplate: '<li><a href="{url}" title="{description}">{title}{tags}</a></li>',
      json: '/search.json',
      templateMiddleware: function (prop, value, template) {
        if (prop === 'tags' && value.length > 1) {
          return '<div class="search-result-tags">' + value.split(',').reduce((acc, item) => `${acc} <span class="post-tag">${item}</span>`, '') + '</div>'
        }
      }
    })

    const articles = document.querySelectorAll('article')

    for (const article of articles) {
      const headings = article.querySelectorAll('h2,h3,h4,h5,h6')

      for (const heading of headings) {
        const linkIcon = document.createElement('a')

        linkIcon.innerHTML = ' <span class="fas fa-link fa-xs"></span>'
        linkIcon.setAttribute('href', `#${heading.id}`)
        linkIcon.setAttribute('class', `article-header-link`)
        heading.appendChild(linkIcon)
      }
    }
  </script>
</body>

</html>
